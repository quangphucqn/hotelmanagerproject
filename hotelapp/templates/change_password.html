{% extends 'layout/base.html' %}

{% block title %}Đổi mật khẩu{% endblock %}

{% block css %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
{% endblock %}

{% block content %}
<!-- Loading Screen -->
<div id="loading-screen">
    <div class="lds-roller">
        <div></div><div></div><div></div><div></div>
        <div></div><div></div><div></div><div></div>
    </div>
    <div id="loading-text">Loading...</div>
</div>

<!-- Main Content -->
<div id="main-content" style="display: none;">
    <div class="container">
        <div class="row">
            <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
                <div class="card border-0 shadow rounded-3 my-5">
                    <div class="card-body p-4 p-sm-5">
                        <!-- Title -->
                        <h1 class="card-title text-center mb-5 fw-bold"
                            style="font-family: monospace; font-size: 40px; font-weight: 900; color: black;
                                   text-shadow: 2px 2px 5px rgba(0,0,0,0.3);">
                            ĐỔI MẬT KHẨU
                        </h1>

                        <!-- Display Error Message -->
                        {% if err_msg %}
                            <div class="alert alert-danger">{{ err_msg }}</div>
                        {% endif %}

                        <!-- Change Password Form -->
                        <form method="post" action="{{ url_for('change_password') }}">
                            <!-- Current Password -->
                            <div class="form-floating mb-3">
                                <input type="password" class="form-control" id="current_password"
                                       placeholder="Nhập mật khẩu hiện tại..." name="current_password" required>
                                <label for="current_password">Mật khẩu hiện tại</label>
                            </div>

                            <!-- New Password -->
                            <div class="form-floating mb-3">
                                <input type="password" class="form-control" id="new_password"
                                       placeholder="Nhập mật khẩu mới..." name="new_password" required>
                                <label for="new_password">Mật khẩu mới</label>
                            </div>

                            <!-- Confirm New Password -->
                            <div class="form-floating mb-3">
                                <input type="password" class="form-control" id="confirm_password"
                                       placeholder="Nhập lại mật khẩu mới..." name="confirm_password" required>
                                <label for="confirm_password">Nhập lại mật khẩu mới</label>
                            </div>

                            <!-- Submit Button -->
                            <div class="d-grid">
                                <button class="btn btn-primary btn-login text-uppercase fw-bold"
                                        type="submit" style="font-size: 16px; box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);">
                                    Xác nhận
                                </button>
                            </div>
                        </form>

                        <hr class="my-4">

                        <!-- Additional Links -->
                        <a class="d-block text-center small" href="{{ url_for('user_login') }}">
                            Quay lại đăng nhập
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
